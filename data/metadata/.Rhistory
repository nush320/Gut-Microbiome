md1 <- read.csv("1_metadata.csv")
md2 <- read.csv("2_metadata.csv")
md3 <- read.csv("3_metadata.csv")
md4 <- read.csv("4_metadata.csv")
md5 <- read.csv("5_metadata.csv")
md6 <- read.csv("6_metadata.csv")
md8 <- read.csv("8_metadata.csv")
md9 <- read.csv("9_metadata.csv")
md10 <- read.csv("10_metadata.csv")
md11 <- read.csv("11_metadata.csv")
combined_metadata <- rbind(md1, md2, md3, md4, md5, md6, md8, md9, md10)
View(md1)
View(md10)
# First, let's examine the columns in each metadata file
print("Columns in md1:")
colnames(md1)
print("Columns in md2:")
colnames(md2)
print("Columns in md3:")
colnames(m32)
# First, let's examine the columns in each metadata file
print("Columns in md1:")
colnames(md1)
print("Columns in md2:")
colnames(md2)
print("Columns in md3:")
colnames(md3)
print("Columns in md4:")
colnames(md4)
print("Columns in md5:")
colnames(md5)
print("Columns in md6:")
colnames(md6)
print("Columns in md8:")
colnames(md8)
print("Columns in md9:")
colnames(md9)
print("Columns in md10:")
colnames(md10)
print("Columns in md11:")
colnames(md11)
# Create a list of all your metadata dataframes
md_list <- list(md1, md2, md3, md4, md5, md6, md8, md9, md10, md11)
# Look at all unique columns across all files
all_columns <- unique(unlist(lapply(md_list, colnames)))
print(all_columns)
# Now standardize the columns by adding missing ones with NA
for(i in seq_along(md_list)) {
missing_cols <- setdiff(all_columns, colnames(md_list[[i]]))
if(length(missing_cols) > 0) {
for(col in missing_cols) {
md_list[[i]][[col]] <- NA
}
}
# Add study column
md_list[[i]]$study <- paste0("Study", i)
}
combined_metadata <- rbind(md1, md2, md3, md4, md5, md6, md8, md9, md10, md11)
View(md_list)
# Now try combining again with standardized columns
combined_metadata <- do.call(rbind, md_list)
View(combined_metadata)
saveRDS(combined_metadata, file = "combined_metadata.rds" )
write.csv(combined_metadata, file = "combined_metadata.csv")
View(combined_metadata)
taxa <- assignTaxonomy(seqtab.nochim, "C:/Users/akc79/Documents/Masters Thesis Research/R Analysis/silva_nr99_v138.1_train_set.fa.gz", multithread=TRUE)
library(dada2)
taxa <- assignTaxonomy(seqtab.nochim, "C:/Users/akc79/Documents/Masters Thesis Research/R Analysis/silva_nr99_v138.1_train_set.fa.gz", multithread=TRUE)
list.files(path)
list.files(path)
path
path <- "C:/Users/akc79/Documents/Masters Thesis Research/R Analysis/metadata/reduced metadata"
list.files(path)
md1 <- read.csv(path, "1_metadata.csv")
md1 <- read.csv(path, "re_1_metadata w tod data.csv")
setwd("~/Masters Thesis Research/R Analysis/metadata/reduced metadata")
re_md11 <- read.csv("re_11_metadata with subject number.csv")
# Create a list of all your metadata dataframes
re_md_list <- list(re_md1, re_md2, re_md3, re_md4, re_md5, re_md6, re_md8, re_md9, re_md10, re_md11)
re_md1 <- read.csv("re_1_metadata w tod data.csv")
re_md2 <- read.csv("re_2_metadata.csv")
re_md3 <- read.csv("re_3_metadata.csv")
re_md4 <- read.csv("re_4_metadata w both conditions.csv")
re_md5 <- read.csv("re_5_metadata.csv")
re_md6 <- read.csv("re_6_metadata.csv")
re_md8 <- read.csv("re_8_metadata.csv")
re_md9 <- read.csv("re_9_metadata_all.csv")
re_md10 <- read.csv("re_10_metadata.csv")
re_md11 <- read.csv("re_11_metadata with subject number.csv")
# Create a list of all your metadata dataframes
re_md_list <- list(re_md1, re_md2, re_md3, re_md4, re_md5, re_md6, re_md8, re_md9, re_md10, re_md11)
# Look at all unique columns across all files
all_columns <- unique(unlist(lapply(re_md_list, colnames)))
print(all_columns)
# Now standardize the columns by adding missing ones with NA
for(i in seq_along(md_list)) {
missing_cols <- setdiff(all_columns, colnames(md_list[[i]]))
if(length(missing_cols) > 0) {
for(col in missing_cols) {
md_list[[i]][[col]] <- NA
}
}
# Now standardize the columns by adding missing ones with NA
for(i in seq_along(md_list)) {
missing_cols <- setdiff(all_columns, colnames(md_list[[i]]))
if(length(missing_cols) > 0) {
for(col in missing_cols) {
md_list[[i]][[col]] <- NA
}
}
)
# Now standardize the columns by adding missing ones with NA
for(i in seq_along(md_list)) {
missing_cols <- setdiff(all_columns, colnames(md_list[[i]]))
if(length(missing_cols) > 0) {
for(col in missing_cols) {
md_list[[i]][[col]] <- NA
}
}
}
# Now standardize the columns by adding missing ones with NA
for(i in seq_along(re_md_list)) {
missing_cols <- setdiff(all_columns, colnames(re_md_list[[i]]))
if(length(missing_cols) > 0) {
for(col in missing_cols) {
re_md_list[[i]][[col]] <- NA
}
}
}
# Now try combining again with standardized columns
re_combined_metadata <- do.call(rbind, re_md_list)
saveRDS(re_combined_metadata, file = "re_combined_metadata.rds" )
write.csv(re_combined_metadata, file = "re_combined_metadata.csv")
View(re_combined_metadata)
